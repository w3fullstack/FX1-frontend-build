{"version":3,"file":"pages/_Sport/_leagueCode/_game/_slug.js","sources":["webpack:///./pages/_Sport/_leagueCode/_game/_slug.vue?453b","webpack:///pages/_Sport/_leagueCode/_game/_slug.vue","webpack:///./pages/_Sport/_leagueCode/_game/_slug.vue?dedf","webpack:///./pages/_Sport/_leagueCode/_game/_slug.vue","webpack:///./mixins/meta.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ExploreEvent',{ref:\"explorevent\",attrs:{\"paramsValidationActive\":_vm.paramsValidationActive,\"lockerRoom\":_vm.room},on:{\"setLockerRoom\":_vm.setLockerRoom}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\nExploreEvent(\r\n  ref=\"explorevent\",\r\n  :paramsValidationActive=\"paramsValidationActive\",\r\n  :lockerRoom=\"room\",\r\n  @setLockerRoom=\"setLockerRoom\"\r\n)\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { mapFields } from 'vuex-map-fields'\r\nimport meta from '~/mixins/meta'\r\n\r\nexport default {\r\n  name: 'XOLEventRoom',\r\n  components: {\r\n    ExploreEvent: () => import('~/components/pages/ExploreEvent'),\r\n  },\r\n  mixins: [meta],\r\n  layout: 'explore-event',\r\n  data() {\r\n    return {\r\n      game: {},\r\n      paramsValidationActive: false,\r\n      room: null,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapFields('app', ['selectedGameEventRoom']),\r\n    ...mapFields('live', ['lockerRoomActive']),\r\n  },\r\n  async created() {\r\n    if(!this.$route.params.leagueCode && !this.$route.params.game && !this.$route.params.slug ) {\r\n      await this.$router.push('/error')\r\n      return\r\n    }\r\n    this.paramsValidationActive = true\r\n    this.metaTitle =\r\n      this.$route.params.game +\r\n      ' | ' +\r\n      this.$route.params.leagueCode.toUpperCase()\r\n    const gameID = this.$route.params?.slug\r\n    if (!this.selectedGameEventRoom) {\r\n      if (gameID) {\r\n        await this.$store.dispatch('locker-room/setLockerRoomLoading', true)\r\n        const { getLockerRoom } = await this.$api.getLockerRoom({\r\n          group: `Game:${gameID}`,\r\n        })\r\n        if (!getLockerRoom) {\r\n          await this.$router.push('/error')\r\n          return\r\n        }\r\n        this.room = getLockerRoom\r\n        this.game = getLockerRoom.Game\r\n        await this.$store.dispatch('locker-room/setLockerRoomLoading', false)\r\n      }\r\n    } else {\r\n      this.game = JSON.parse(JSON.stringify(this.selectedGameEventRoom))\r\n    }\r\n    this.validateUrl()\r\n    this.metaTitle =\r\n      (this.game?.team1Name ||\r\n        this.game?.team1DisplayName ||\r\n        this.game?.team1Nickname ||\r\n        this.game?.team1City) +\r\n      ' vs ' +\r\n      (this.game?.team2Name ||\r\n        this.game?.team2DisplayName ||\r\n        this.game?.team2Nickname ||\r\n        this.game?.team2City) +\r\n      ' | ' +\r\n      this.game?.leagueCode.toUpperCase() +\r\n      ' | ' +\r\n      moment(this.game?.date).local().format('DD MMMM YYYY')\r\n  },\r\n  mounted() {\r\n    const params = { pageName: 'Event Room', isLoggedIn: this.isLoggedIn }\r\n    this.$mixpanelClient.trackViewPage(params)\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.dispatch('locker-room/setLockerRoomPrivateChat', null)\r\n  },\r\n  methods: {\r\n    validateSportParam() {\r\n      return (\r\n        this.$route.params.Sport.toLowerCase() ===\r\n        this.game.sport.replace(/\\s/g, '-').toLowerCase()\r\n      )\r\n    },\r\n    validateLeagueCodeParam() {\r\n      return (\r\n        this.$route.params.leagueCode.toLowerCase() ===\r\n        this.game.leagueCode.toLowerCase()\r\n      )\r\n    },\r\n    validateGameParam() {\r\n      const gameString =\r\n        `${\r\n          this.game.team1Name ||\r\n          this.game.team1DisplayName ||\r\n          this.game.team1Nickname ||\r\n          this.game.team1City\r\n        }` +\r\n        '-vs-' +\r\n        `${\r\n          this.game.team2Name ||\r\n          this.game.team2DisplayName ||\r\n          this.game.team2Nickname ||\r\n          this.game.team2City\r\n        }`\r\n      return (\r\n        this.$route.params.game.toLowerCase().replace(/\\s/g, '-') ===\r\n        gameString.toLowerCase().replace(/\\s/g, '-')\r\n      )\r\n    },\r\n    validateSlugParam() {\r\n      return (\r\n        this.$route.params.slug.toLowerCase() === this.game.gameID.toString()\r\n      )\r\n    },\r\n    validateUrl() {\r\n      const sport = this.validateSportParam()\r\n      const leagueCode = this.validateLeagueCodeParam()\r\n      const game = this.validateGameParam()\r\n      const slug = this.validateSlugParam()\r\n      if (!sport || !leagueCode || !game || !slug) {\r\n        this.$router.push({\r\n          path: '/error',\r\n        })\r\n      }\r\n      this.paramsValidationActive = false\r\n    },\r\n    async setLockerRoom() {\r\n      const { getLockerRoom } = await this.$api.getLockerRoom({\r\n        group: `Game:${this.$route.params?.slug}`,\r\n      })\r\n      this.room = getLockerRoom\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_slug.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_slug.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_slug.vue?vue&type=template&id=979c57a4&lang=pug&\"\nimport script from \"./_slug.vue?vue&type=script&lang=js&\"\nexport * from \"./_slug.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"4a45e5bb\"\n  \n)\n\nexport default component.exports","export default {\r\n  data() {\r\n    return {\r\n      metaTitle: '',\r\n      metaDescription: 'Show the world who you support',\r\n    }\r\n  },\r\n  head() {\r\n    return {\r\n      title: this.metaTitle || 'FX1',\r\n      link: [\r\n        { rel: 'canonical', href: `${this.baseURL}${this.$route?.fullPath}` },\r\n      ],\r\n      meta: [\r\n        {\r\n          hid: 'description',\r\n          name: 'description',\r\n          content: this.metaDescription.replace(/<\\/?[^>]+(>|$)/g, ''),\r\n        },\r\n        {\r\n          hid: 'twitter:title',\r\n          name: 'twitter:title',\r\n          content: this.metaTitle,\r\n        },\r\n        {\r\n          hid: 'twitter:description',\r\n          name: 'twitter:description',\r\n          content: this.metaDescription.replace(/<\\/?[^>]+(>|$)/g, ''),\r\n        },\r\n        {\r\n          hid: 'twitter:image',\r\n          name: 'twitter:image',\r\n          content: this.fx1Logo,\r\n        },\r\n        {\r\n          hid: 'twitter:image:alt',\r\n          name: 'twitter:image:alt',\r\n          content: this.metaTitle,\r\n        },\r\n        {\r\n          hid: 'og:title',\r\n          property: 'og:title',\r\n          content: this.metaTitle,\r\n        },\r\n        {\r\n          hid: 'og:description',\r\n          property: 'og:description',\r\n          content: this.metaDescription.replace(/<\\/?[^>]+(>|$)/g, ''),\r\n        },\r\n        {\r\n          hid: 'og:image',\r\n          property: 'og:image',\r\n          content: this.fx1Logo,\r\n        },\r\n        {\r\n          hid: 'og:image:secure_url',\r\n          property: 'og:image:secure_url',\r\n          content: this.fx1Logo,\r\n        },\r\n        {\r\n          hid: 'og:image:alt',\r\n          property: 'og:image:alt',\r\n          content: this.metaTitle,\r\n        },\r\n      ],\r\n    }\r\n  },\r\n}\r\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACQA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAcA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAcA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5IA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;A","sourceRoot":""}