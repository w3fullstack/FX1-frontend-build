(window.webpackJsonp=window.webpackJsonp||[]).push([[85,2],{1116:function(t,e,n){var content=n(1269);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("d2b30118",content,!0,{sourceMap:!1})},1266:function(t,e,n){"use strict";n.r(e);n(24);var r=n(1267),o={name:"XAAvatar",props:{name:{type:String,default:""},image:{type:String,default:null},size:{type:String,default:"32px"}},data:function(){return{colors:r}},computed:{initials:function(){var t=this.name||"";return t.split(" ").length>1?t.split(" ")[0].charAt(0)+t.split(" ").pop().charAt(0):t.charAt(0)},avatarStyles:function(){for(var t=this.name||"FX1 User",e=0,n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);var r=e%360,o={width:this.size,height:this.size,backgroundColor:this.image?null:"hsl(".concat(r,", 50%, 90%)")};return o},nameStyles:function(){var t={fontSize:"calc(".concat(this.size," * 0.40)")};return t}}},c=(n(1268),n(10)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xa-avatar row items-center justify-center",style:[t.avatarStyles]},[t.image?n("img",{attrs:{src:t.image,alt:"name"}}):n("div",{staticClass:"name",style:[t.nameStyles]},[t._v(t._s(t.initials))])])}),[],!1,null,"6f02151c",null);e.default=component.exports},1267:function(t){t.exports=JSON.parse('["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d","#40076a","#7d4f8a","#2434c5","#7c84fc","#a23a7f","#b55693","#2e1529","#12822c"]')},1268:function(t,e,n){"use strict";n(1116)},1269:function(t,e,n){var r=n(34)(!1);r.push([t.i,".xa-avatar[data-v-6f02151c]{border-radius:50%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.xa-avatar[data-v-6f02151c] img{border-radius:50%;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.xa-avatar[data-v-6f02151c] .name{font-weight:300;margin-top:3px;color:#0c353e;text-transform:uppercase}",""]),t.exports=r},1290:function(t,e,n){var r=n(1378).has;t.exports=function(t){return r(t),t}},1307:function(t,e,n){var r=n(25),o=n(1369),c=n(1378),d=c.Map,l=c.proto,f=r(l.forEach),h=r(l.entries),v=h(new d).next;t.exports=function(map,t,e){return e?o(h(map),(function(e){return t(e[1],e[0])}),v):f(map,t)}},1369:function(t,e,n){var r=n(51);t.exports=function(t,e,n){for(var o,c,d=n||t.next;!(o=r(d,t)).done;)if(void 0!==(c=e(o.value)))return c}},1378:function(t,e,n){var r=n(25),o=Map.prototype;t.exports={Map:Map,set:r(o.set),get:r(o.get),has:r(o.has),remove:r(o.delete),proto:o}},1381:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMyIgZmlsbD0ibm9uZSI+DQo8cGF0aCBzdHJva2U9IiNDRDNCMzMiIGQ9Ik02IDkuNXYyIi8+DQo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSIxIiB4PSI0IiB5PSIxMSIgZmlsbD0iI0NEM0IzMyIgcng9Ii41Ii8+DQo8cGF0aCBzdHJva2U9IiNDRDNCMzMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExLjkyIDEuMDggMS4wOCAxMS45MiIvPg0KPHBhdGggZmlsbD0iI0NEM0IzMyIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOCAzLjU5VjNhMiAyIDAgMSAwLTQgMHY0LjU5bDQtNFpNOCA2LjRsLTMuMiAzLjJBMiAyIDAgMCAwIDggOFY2LjRaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz4NCjwvc3ZnPg0K"},1829:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return x})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return O}));var r=n(0),o=(n(27),n(8),n(13),n(1600)),c=n(2057),d=n.n(c);function l(){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.enumerateDevices();case 3:return e=t.sent,t.abrupt("return",d()(e,(function(t){return t.kind})));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function h(t,e){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var track;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.createLocalAudioTrack)(n?{deviceId:{exact:n}}:{});case 2:return track=t.sent,e.localParticipant.audioTracks.forEach((function(t){t.track.stop(),e.localParticipant.unpublishTrack(t.track)})),t.next=6,e.localParticipant.publishTrack(track);case 6:return t.abrupt("return",track.mediaStreamTrack.getSettings().deviceId);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t,e){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var track;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.createLocalVideoTrack)(n?{deviceId:{exact:n}}:{facingMode:"user"});case 2:return track=t.sent,e.localParticipant.videoTracks.forEach((function(t){t.track.stop(),e.localParticipant.unpublishTrack(t.track)})),t.next=6,e.localParticipant.publishTrack(track);case 6:return t.abrupt("return",track.mediaStreamTrack.getSettings().deviceId);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){t.localParticipant.audioTracks.forEach((function(t){t.track.disable()}))}function x(t){t.localParticipant.videoTracks.forEach((function(t){t.track.disable()}))}function y(t){t.localParticipant.audioTracks.forEach((function(t){t.track.enable()}))}function O(t){t.localParticipant.videoTracks.forEach((function(t){t.track.enable()}))}},2061:function(t,e,n){var content=n(2552);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("ebbe62a2",content,!0,{sourceMap:!1})},2062:function(t,e,n){var content=n(2554);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("37239cfa",content,!0,{sourceMap:!1})},2537:function(t,e,n){"use strict";var r=n(21),o=n(1290),c=n(1378).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),n=!0,r=0,d=arguments.length;r<d;r++)t=c(e,arguments[r]),n=n&&t;return!!n}})},2538:function(t,e,n){"use strict";var r=n(21),o=n(135),c=n(1290),d=n(1307);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0);return!1!==d(map,(function(t,n){if(!e(t,n,map))return!1}),!0)}})},2539:function(t,e,n){"use strict";var r=n(21),o=n(135),c=n(1290),d=n(1378),l=n(1307),f=d.Map,h=d.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return l(map,(function(t,r){e(t,r,map)&&h(n,r,t)})),n}})},2540:function(t,e,n){"use strict";var r=n(21),o=n(135),c=n(1290),d=n(1307);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=d(map,(function(t,n){if(e(t,n,map))return{value:t}}),!0);return n&&n.value}})},2541:function(t,e,n){"use strict";var r=n(21),o=n(135),c=n(1290),d=n(1307);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=d(map,(function(t,n){if(e(t,n,map))return{key:n}}),!0);return n&&n.key}})},2542:function(t,e,n){"use strict";var r=n(21),o=n(2543),c=n(1290),d=n(1307);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return!0===d(c(this),(function(e){if(o(e,t))return!0}),!0)}})},2543:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},2544:function(t,e,n){"use strict";var r=n(21),o=n(1290),c=n(1307);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var e=c(o(this),(function(e,n){if(e===t)return{key:n}}),!0);return e&&e.key}})},2545:function(t,e,n){"use strict";var r=n(21),o=n(135),c=n(1290),d=n(1378),l=n(1307),f=d.Map,h=d.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return l(map,(function(t,r){h(n,e(t,r,map),t)})),n}})},2546:function(t,e,n){"use strict";var r=n(21),o=n(135),c=n(1290),d=n(1378),l=n(1307),f=d.Map,h=d.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return l(map,(function(t,r){h(n,r,e(t,r,map))})),n}})},2547:function(t,e,n){"use strict";var r=n(21),o=n(1290),c=n(192),d=n(1378).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var map=o(this),e=arguments.length,i=0;i<e;)c(arguments[i++],(function(t,e){d(map,t,e)}),{AS_ENTRIES:!0});return map}})},2548:function(t,e,n){"use strict";var r=n(21),o=n(115),c=n(1290),d=n(1307),l=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var map=c(this),e=arguments.length<2,n=e?void 0:arguments[1];if(o(t),d(map,(function(r,o){e?(e=!1,n=r):n=t(n,r,o,map)})),e)throw l("Reduce of empty map with no initial value");return n}})},2549:function(t,e,n){"use strict";var r=n(21),o=n(135),c=n(1290),d=n(1307);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0);return!0===d(map,(function(t,n){if(e(t,n,map))return!0}),!0)}})},2550:function(t,e,n){"use strict";var r=n(21),o=n(115),c=n(1290),d=n(1378),l=TypeError,f=d.get,h=d.has,v=d.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var map=c(this),n=arguments.length;o(e);var r=h(map,t);if(!r&&n<3)throw l("Updating absent value");var d=r?f(map,t):o(n>2?arguments[2]:void 0)(t,map);return v(map,t,e(d,t,map)),map}})},2551:function(t,e,n){"use strict";n(2061)},2552:function(t,e,n){var r=n(34)(!1);r.push([t.i,".xo-video[data-v-019f1a48]{overflow:hidden;border-radius:4px;transform:scaleX(-1);z-index:1}",""]),t.exports=r},2553:function(t,e,n){"use strict";n(2062)},2554:function(t,e,n){var r=n(34),o=n(228),c=n(1381),d=r(!1),l=o(c);d.push([t.i,".xo-video-body[data-v-141c8088]{display:grid;grid-template-columns:1fr;grid-auto-rows:190px;grid-gap:8px;gap:8px;padding:8px}.xo-video-body.more[data-v-141c8088]{grid-template-columns:repeat(2,1fr);grid-auto-rows:100px}.xo-video-body .member[data-v-141c8088]{position:relative;background-color:#242424;border-radius:4px}.xo-video-body .member[data-v-141c8088],.xo-video-body .member.placeholder[data-v-141c8088]{display:grid;align-content:center;justify-content:center;place-content:center}.xo-video-body .member.placeholder[data-v-141c8088]{background-color:#385960}.xo-video-body .member .avatar[data-v-141c8088]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.xo-video-body .member .name[data-v-141c8088]{position:absolute;bottom:0;left:0;z-index:2;padding:2px 5px 0;background-color:#000;border-bottom-left-radius:4px;font-size:12px;letter-spacing:-.48px;display:flex;grid-gap:4px;gap:4px;align-items:center}.xo-video-body .member .name .muted[data-v-141c8088]{background:url("+l+") no-repeat 50%;background-color:transparent;background-size:12px 12px;height:12px;width:12px;display:inline-block}.xo-video-body .audio[data-v-141c8088]{display:none}",""]),t.exports=d},2578:function(t,e,n){"use strict";n.r(e);n(17),n(16),n(14),n(19),n(20);var r=n(0),o=n(93),c=n(5),d=(n(27),n(8),n(28),n(31),n(632),n(2537),n(2538),n(2539),n(2540),n(2541),n(2542),n(2544),n(2545),n(2546),n(2547),n(2548),n(2549),n(2550),n(67),n(81),n(94),n(13),n(386),n(229),n(79),n(124),n(11)),l=n(1600);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h={name:"XOAudio",props:{participant:{type:l.Participant,required:!0}},data:function(){return{publication:null,track:null,audioElem:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.b)("chats",["audioOutputDeviceId"])),watch:{publication:function(t,e){null==e||e.off("subscribed",this.handlePublicationSubscribed),null==e||e.off("unsubscribed",this.handlePublicationUnsubscribed),t.track&&this.handlePublicationSubscribed(t.track),t.on("subscribed",this.handlePublicationSubscribed),t.on("unsubscribed",this.handlePublicationUnsubscribed)},track:function(t,e){null==e||e.off("disabled",this.handleTrackDisabled),this.attachTrack(t),t.on("disabled",this.handleTrackDisabled)},audioOutputDeviceId:function(t){this.setAudioOutput(t)}},mounted:function(){var t=Object(o.a)(this.participant.audioTracks.values())[0];t&&this.handleTrackPublished(t),this.participant.on("trackPublished",this.handleTrackPublished)},beforeDestroy:function(){this.detachTrack()},methods:{attachTrack:function(track){this.audioElem=track.attach(),this.setAudioOutput(this.audioOutputDeviceId),this.$refs.audio.replaceChildren(this.audioElem)},detachTrack:function(){var t;null===(t=this.audioElem)||void 0===t||t.remove(),this.audioElem=null},handleTrackPublished:function(t){"audio"===t.kind&&(this.publication=t)},handleTrackDisabled:function(){this.$emit("audioMute")},handlePublicationSubscribed:function(track){this.$emit("audioUnmute"),this.track=track},handlePublicationUnsubscribed:function(){this.detachTrack()},setAudioOutput:function(t){var e;null!==(e=this.audioElem)&&void 0!==e&&e.setSinkId&&t&&this.audioElem.setSinkId(t)}}},v=h,m=n(10),k=Object(m.a)(v,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"audio",staticClass:"xo-audio"})}),[],!1,null,null,null).exports,P={name:"XOVideo",props:{participant:{type:l.Participant,required:!0}},data:function(){return{isHidden:!1,publication:null,track:null,videoElem:null}},watch:{publication:function(t,e){null==e||e.off("subscribed",this.handlePublicationSubscribed),null==e||e.off("unsubscribed",this.handlePublicationUnsubscribed),t.track&&this.handlePublicationSubscribed(t.track),t.on("subscribed",this.handlePublicationSubscribed),t.on("unsubscribed",this.handlePublicationUnsubscribed)},track:function(t,e){null==e||e.off("disabled",this.handleTrackDisabled),this.attachTrack(t),t.on("disabled",this.handleTrackDisabled)}},mounted:function(){var t=Object(o.a)(this.participant.videoTracks.values())[0];t&&this.handleTrackPublished(t),this.participant.on("trackPublished",this.handleTrackPublished)},beforeDestroy:function(){this.detachTrack()},methods:{attachTrack:function(track){this.videoElem=track.attach(),this.$refs.video.replaceChildren(this.videoElem)},detachTrack:function(){var t;null===(t=this.videoElem)||void 0===t||t.remove(),this.videoElem=null},handleTrackPublished:function(t){"video"===t.kind&&(this.publication=t)},handleTrackDisabled:function(){this.isHidden=!0},handlePublicationSubscribed:function(track){this.isHidden=!1,this.track=track},handlePublicationUnsubscribed:function(){this.detachTrack()}}},x=(n(2551),Object(m.a)(P,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:!t.isHidden,expression:"!isHidden"}],ref:"video",staticClass:"xo-video"})}),[],!1,null,"019f1a48",null).exports),y=n(1266);var O=n(1829);function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var w={name:"XOVideoBody",components:{XOAudio:k,XOVideo:x,XAAvatar:y.default,XALoader:function(){return n.e(10).then(n.bind(null,1371))}},props:{privateChannel:{type:Object,default:function(){}}},data:function(){return{allParticipants:[],unmuted:[],audioPermissionStatus:null,videoPermissionStatus:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({members:function(){return new Map([].concat(Object(o.a)(this.privateChannel.Roles.Owners),Object(o.a)(this.privateChannel.Roles.Joiners),Object(o.a)(this.newMembers)).map((function(t){var e,n=t.User;return[n.id,{username:n.username,avatar:(null===(e=n.Avatar)||void 0===e?void 0:e.PhotoURL)||""}]})))},visibleMembers:function(){return this.enrichedAllParticipants.slice(0,this.enrichedAllParticipants.length>10?9:10)},isMore:function(){return this.enrichedAllParticipants.length>3},hiddenCount:function(){return this.enrichedAllParticipants.length-this.visibleMembers.length},enrichedAllParticipants:function(){var t=this,e=[];return this.allParticipants.forEach((function(n){var r,o=null!==(r=t.members.get(n.identity))&&void 0!==r?r:{};e.push({participant:n,member:o})})),e}},Object(d.b)("chats",["room","newMembers","audioDeviceId","audioDevices","audioPermissionsGranted","videoDeviceId","videoDevices","videoPermissionsGranted","audioOutputDevices"])),mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.mountVideoChat();case 2:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){var t,e,n,r,o=this;null===(t=this.room)||void 0===t||t.localParticipant.tracks.forEach((function(t){t.track.stop(),o.room.localParticipant.unpublishTrack(t.track)})),null===(e=this.room)||void 0===e||e.disconnect(),this.room=null,null===(n=this.audioPermissionStatus)||void 0===n||n.removeEventListener("change",this.onAudioPermissionStatusChange),null===(r=this.videoPermissionStatus)||void 0===r||r.removeEventListener("change",this.onVideoPermissionStatusChange)},methods:{mountVideoChat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,c,d,f,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.getAccessToken({privateGroup:t.privateChannel.id});case 2:return c=e.sent,d=c.getAccessToken.objectID,e.prev=4,e.next=7,m={token:d,roomName:t.privateChannel.id},k=void 0,P=void 0,k=m.token,P=m.roomName,Object(l.connect)(k,{name:P,audio:!1,video:!1});case 7:t.room=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),t.$sentry.captureException(e.t0);case 13:return e.prev=13,e.next=16,navigator.permissions.query({name:"microphone"});case 16:t.audioPermissionStatus=e.sent,t.onAudioPermissionStatusChange(),t.audioPermissionStatus.addEventListener("change",t.onAudioPermissionStatusChange),e.next=25;break;case 21:e.prev=21,e.t1=e.catch(13),e.t1 instanceof TypeError&&(t.audioPermissionsGranted=!0),t.$sentry.captureException(e.t1);case 25:return e.prev=25,e.next=28,navigator.permissions.query({name:"camera"});case 28:t.videoPermissionStatus=e.sent,t.onVideoPermissionStatusChange(),t.videoPermissionStatus.addEventListener("change",t.onVideoPermissionStatusChange),e.next=37;break;case 33:e.prev=33,e.t2=e.catch(25),e.t2 instanceof TypeError&&(t.videoPermissionsGranted=!0),t.$sentry.captureException(e.t2);case 37:if(!t.audioPermissionsGranted&&!t.videoPermissionsGranted){e.next=40;break}return e.next=40,t.setDevicesList();case 40:f=t.room,h=f.localParticipant,v=f.participants,(n=t.allParticipants).push.apply(n,[h].concat(Object(o.a)(v.values()))),t.room.on("participantConnected",function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.allParticipants.push(n),t.members.has(n.identity)){e.next=6;break}return e.next=4,t.fetchMember(n.identity);case 4:(r=e.sent)&&t.newMembers.push(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.room.on("participantDisconnected",(function(e){var n=t.allParticipants.findIndex((function(p){return p.sid===e.sid}));n>-1&&t.allParticipants.splice(n,1),t.audioMute(e.sid)}));case 44:case"end":return e.stop()}var m,k,P}),e,null,[[4,10],[13,21],[25,33]])})))()},setDevicesList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)();case 2:(n=e.sent).audioinput&&(t.audioDevices=n.audioinput),n.videoinput&&(t.videoDevices=n.videoinput),n.audiooutput&&(t.audioOutputDevices=n.audiooutput);case 6:case"end":return e.stop()}}),e)})))()},audioMute:function(t){var e=this.unmuted.findIndex((function(e){return e===t}));e>-1&&this.unmuted.splice(e,1)},audioUnmute:function(t){this.isMuted(t)&&this.unmuted.push(t)},isMuted:function(t){return!this.unmuted.includes(t)},onAudioPermissionStatusChange:function(){this.audioPermissionsGranted&&"denied"===this.audioPermissionStatus.state&&this.$root.$emit("audioOff"),this.audioPermissionsGranted="granted"===this.audioPermissionStatus.state},onVideoPermissionStatusChange:function(){this.videoPermissionsGranted&&"denied"===this.videoPermissionStatus.state&&this.$root.$emit("videoOff"),this.videoPermissionsGranted="granted"===this.videoPermissionStatus.state},fetchMember:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$api.getUser({id:t});case 2:return r=n.sent,o=r.getUser,n.abrupt("return",{User:o});case 5:case"end":return n.stop()}}),n)})))()}}},j=w,S=(n(2553),Object(m.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xo-video-body",class:{more:t.isMore}},[t.visibleMembers.length?t._l(t.visibleMembers,(function(e){var r=e.member,o=e.participant;return n("div",{key:o.sid,staticClass:"member"},[n("XAAvatar",{staticClass:"avatar",attrs:{name:r.username,image:r.avatar,size:t.isMore?"62px":"128px"}}),n("XOVideo",{attrs:{participant:o}}),n("div",{staticClass:"name"},[t.isMuted(o.sid)?n("div",{staticClass:"muted"}):t._e(),n("span",[t._v(t._s(r.username))])])],1)})):n("XALoader",{attrs:{size:24}}),t.hiddenCount>0?n("div",{staticClass:"member placeholder"},[t._v("+"+t._s(t.hiddenCount))]):t._e(),n("div",{staticClass:"audio"},t._l(t.allParticipants,(function(e){return n("XOAudio",{key:e.sid,attrs:{participant:e},on:{audioMute:function(n){return t.audioMute(e.sid)},audioUnmute:function(n){return t.audioUnmute(e.sid)}}})})),1)],2)}),[],!1,null,"141c8088",null));e.default=S.exports}}]);