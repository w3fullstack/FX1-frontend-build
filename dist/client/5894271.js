(window.webpackJsonp=window.webpackJsonp||[]).push([[8,2],{1114:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xNCAxLjQxTDEyLjU5IDBMNyA1LjU5TDEuNDEgMEwwIDEuNDFMNS41OSA3TDAgMTIuNTlMMS40MSAxNEw3IDguNDFMMTIuNTkgMTRMMTQgMTIuNTlMOC40MSA3TDE0IDEuNDFaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9zdmc+DQo="},1116:function(e,t,n){var content=n(1269);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(35).default)("d2b30118",content,!0,{sourceMap:!1})},1253:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxOCAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik03IDRWMEwwIDdMNyAxNFY5LjlDMTIgOS45IDE1LjUgMTEuNSAxOCAxNUMxNyAxMCAxNCA1IDcgNFoiIGZpbGw9IndoaXRlIi8+DQo8L3N2Zz4NCg=="},1256:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAyMSAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0wLjAxIDE4TDIxIDlMMC4wMSAwTDAgN0wxNSA5TDAgMTFMMC4wMSAxOFoiIGZpbGw9IndoaXRlIi8+DQo8L3N2Zz4NCg=="},1257:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMCAxMEMwIDQuNDggNC40NyAwIDkuOTkgMEMxNS41MiAwIDIwIDQuNDggMjAgMTBDMjAgMTUuNTIgMTUuNTIgMjAgOS45OSAyMEM0LjQ3IDIwIDAgMTUuNTIgMCAxMFpNNi41IDlDNy4zMjg0MyA5IDggOC4zMjg0MyA4IDcuNUM4IDYuNjcxNTcgNy4zMjg0MyA2IDYuNSA2QzUuNjcxNTcgNiA1IDYuNjcxNTcgNSA3LjVDNSA4LjMyODQzIDUuNjcxNTcgOSA2LjUgOVpNMTMuNSA5QzE0LjMyODQgOSAxNSA4LjMyODQzIDE1IDcuNUMxNSA2LjY3MTU3IDE0LjMyODQgNiAxMy41IDZDMTIuNjcxNiA2IDEyIDYuNjcxNTcgMTIgNy41QzEyIDguMzI4NDMgMTIuNjcxNiA5IDEzLjUgOVpNMTAgMThDNS41OCAxOCAyIDE0LjQyIDIgMTBDMiA1LjU4IDUuNTggMiAxMCAyQzE0LjQyIDIgMTggNS41OCAxOCAxMEMxOCAxNC40MiAxNC40MiAxOCAxMCAxOFpNNi41NSAxMkM3LjI1IDEzLjE5IDguNTIgMTQgMTAgMTRDMTEuNDggMTQgMTIuNzYgMTMuMTkgMTMuNDUgMTJIMTUuMTJDMTQuMzIgMTQuMDUgMTIuMzMgMTUuNSAxMCAxNS41QzcuNjcgMTUuNSA1LjY4IDE0LjA1IDQuODggMTJINi41NVoiIGZpbGw9IndoaXRlIi8+DQo8L3N2Zz4NCg=="},1261:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMiAwQzAuOSAwIDAuMDEgMC45IDAuMDEgMkwwIDIwTDQgMTZIMThDMTkuMSAxNiAyMCAxNS4xIDIwIDE0VjJDMjAgMC45IDE5LjEgMCAxOCAwSDJaTTIgMkgxOFYxNEgzLjE3TDIgMTUuMTdWMlpNMTIgMTBINFYxMkgxMlYxMFpNNCA3SDE2VjlINFY3Wk0xNiA0SDRWNkgxNlY0WiIgZmlsbD0iI0Y4NTQ1NCIvPg0KPC9zdmc+DQo="},1266:function(e,t,n){"use strict";n.r(t);n(24);var r=n(1267),o={name:"XAAvatar",props:{name:{type:String,default:""},image:{type:String,default:null},size:{type:String,default:"32px"}},data:function(){return{colors:r}},computed:{initials:function(){var e=this.name||"";return e.split(" ").length>1?e.split(" ")[0].charAt(0)+e.split(" ").pop().charAt(0):e.charAt(0)},avatarStyles:function(){for(var e=this.name||"FX1 User",t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);var r=t%360,o={width:this.size,height:this.size,backgroundColor:this.image?null:"hsl(".concat(r,", 50%, 90%)")};return o},nameStyles:function(){var e={fontSize:"calc(".concat(this.size," * 0.40)")};return e}}},c=(n(1268),n(10)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xa-avatar row items-center justify-center",style:[e.avatarStyles]},[e.image?n("img",{attrs:{src:e.image,alt:"name"}}):n("div",{staticClass:"name",style:[e.nameStyles]},[e._v(e._s(e.initials))])])}),[],!1,null,"6f02151c",null);t.default=component.exports},1267:function(e){e.exports=JSON.parse('["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d","#40076a","#7d4f8a","#2434c5","#7c84fc","#a23a7f","#b55693","#2e1529","#12822c"]')},1268:function(e,t,n){"use strict";n(1116)},1269:function(e,t,n){var r=n(34)(!1);r.push([e.i,".xa-avatar[data-v-6f02151c]{border-radius:50%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.xa-avatar[data-v-6f02151c] img{border-radius:50%;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.xa-avatar[data-v-6f02151c] .name{font-weight:300;margin-top:3px;color:#0c353e;text-transform:uppercase}",""]),e.exports=r},1294:function(e,t,n){var content=n(1385);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(35).default)("358150a2",content,!0,{sourceMap:!1})},1384:function(e,t,n){"use strict";n(1294)},1385:function(e,t,n){var r=n(34)(!1);r.push([e.i,".xa-channels-reply-to[data-v-38761f2f]{margin-bottom:20px;width:100%}.xa-channels-reply-to[data-v-38761f2f] .details{border-left:2px solid #fff;margin-left:30px;padding-left:10px;padding-right:30px}.xa-channels-reply-to[data-v-38761f2f] .details .media-container{width:38px;height:38px;border-radius:4px;margin-right:10px}.xa-channels-reply-to[data-v-38761f2f] .details .media-container img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:4px}.xa-channels-reply-to[data-v-38761f2f] .details .name{font-size:1.0714rem;line-height:18px;margin-bottom:4px}.xa-channels-reply-to[data-v-38761f2f] .details ._message{font-size:12px;font-weight:300;line-height:14px;letter-spacing:-.18px;color:hsla(0,0%,100%,.5);white-space:pre-wrap;word-break:break-word;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.xa-channels-reply-to[data-v-38761f2f] .details ._message.photo{color:#fff;font-size:1rem}.xa-channels-reply-to[data-v-38761f2f] .actions .icon{opacity:.5;cursor:pointer}.xa-channels-reply-to[data-v-38761f2f].has-media .details{padding-left:10px}",""]),e.exports=r},1398:function(e,t,n){"use strict";var r=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"_icon row"},[t("img",{attrs:{src:n(1253)}})])}],o=(n(17),n(16),n(14),n(19),n(13),n(20),n(0)),c=n(5),l=(n(27),n(24),n(8),n(11));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"XAChannelsReplyTo",props:{canCancel:{type:Boolean,default:!0}},data:function(){return{imgURL:null}},computed:h(h({},Object(l.b)("locker-room",["lockerRoomReply"])),{},{chatID:function(){var e;return(null===(e=this.lockerRoomReply)||void 0===e?void 0:e.chatID)||null},name:function(){var e;return(null===(e=this.lockerRoomReply)||void 0===e?void 0:e.name)||null},message:function(){var e;return(null===(e=this.lockerRoomReply)||void 0===e?void 0:e.text)||null},media:function(){var e;return(null===(e=this.lockerRoomReply)||void 0===e?void 0:e.Media)||[]},localMedia:function(){var e;return(null===(e=this.lockerRoomReply)||void 0===e?void 0:e.localMedia)||null},photoURL:function(){var e,t;return this.localMedia&&this.fnResizeImage(),this.imgURL||(null===(e=this.media[0])||void 0===e?void 0:e.PhotoURL)||(null===(t=this.media[0])||void 0===t?void 0:t.photoURL)||null}}),methods:{fnCancelReply:function(){this.lockerRoomReply=null},fnResizeImage:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,img,l,d,h,f,canvas,m,v,x,M;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.localMedia.length){t.next=2;break}return t.abrupt("return");case 2:return r=null===(n=e.localMedia[0])||void 0===n?void 0:n.file,o=new FileReader,t.next=6,new Promise((function(e){o.onload=function(t){return e(t.target.result)},o.readAsDataURL(r)}));case 6:return c=t.sent,img=new Image,t.next=10,new Promise((function(e){img.onload=e,img.src=c}));case 10:if(l=img.naturalWidth,d=img.naturalHeight,!((l||d)<=50)){t.next=20;break}return h=document.createElement("canvas"),f=h.getContext("2d"),h.width=l,h.height=d,f.drawImage(img,0,0,h.width,h.height),e.imgURL=h.toDataURL("image/png",1),t.abrupt("return");case 20:canvas=document.createElement("canvas"),m=canvas.getContext("2d"),50,50,v=l,x=d,M=Math.min(50/v,50/x),canvas.width=v*M,canvas.height=x*M,m.drawImage(img,0,0,canvas.width,canvas.height),e.imgURL=canvas.toDataURL("image/png",1);case 29:case"end":return t.stop()}}),t)})))()}}},m=(n(1384),n(10)),component=Object(m.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xa-channels-reply-to row items-center justify-between",class:e.media.length&&"has-media"},[e._m(0),n("div",{staticClass:"details col row"},[e.media.length?n("div",{staticClass:"media-container"},[n("img",{attrs:{src:e.photoURL}})]):e._e(),n("div",{staticClass:"col"},[n("div",{staticClass:"name"},[e._v("Reply to "+e._s(e.name))]),e.message?n("div",{staticClass:"_message",domProps:{innerHTML:e._s(e.message)}}):e._e(),e.photoURL&&!e.message?n("div",{staticClass:"_message photo"},[e._v("Photo")]):e._e()])]),e.canCancel?n("div",{staticClass:"actions"},[n("div",{staticClass:"close",on:{click:function(t){return t.preventDefault(),e.fnCancelReply()}}},[n("b-icon",{attrs:{icon:"close"}})],1)]):e._e()])}),r,!1,null,"38761f2f",null);t.a=component.exports},1501:function(e,t,n){var content=n(1682);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(35).default)("0688f2b0",content,!0,{sourceMap:!1})},1502:function(e,t,n){var content=n(1684);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(35).default)("6fcafae4",content,!0,{sourceMap:!1})},1603:function(e,t,n){"use strict";n.r(t);var r=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"_icon row"},[t("img",{attrs:{src:n(1261),alt:"Chat"}})])}],o=(n(17),n(16),n(19),n(20),n(93)),c=n(5),l=(n(8),n(28),n(31),n(24),n(67),n(79),n(124),n(13),n(14),n(11)),d=n(36),h=n(1102),f=n(0),m=(n(27),n(1312),n(56),n(82),n(41)),v=n.n(m),x=n(1313),M=n.n(x),w=n(1314),y=n.n(w),I=n(1266);function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function C(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var A={name:"XAChannelsInput",components:{At:y.a,XAAvatar:I.default},props:{emojis:{type:Array,required:!0},privateChannel:{type:Object,default:function(){}}},data:function(){return{members:[],hideMention:!1,placeholder:""}},computed:C(C(C({},Object(l.b)("locker-room",["lockerRoomReply","lockerRoomActive"])),Object(l.b)("user",["userName","userEmail","unverifiedEmailAddress","isEmailVerified","isSocialAccount"])),Object(d.c)({getMediaFiles:"media/getMediaFiles",getMediaMessages:"media/getMediaMessages",getChatActive:"chats/getChatActive",getChatShowEdit:"chats/getChatShowEdit"})),watch:{getChatShowEdit:{deep:!0,handler:function(e){var element=document.querySelector(".chat-input");if(e){var t;element.innerHTML=null===(t=this.getChatActive)||void 0===t?void 0:t.text;var n=element.innerText.length;this.$nextTick((function(){n&&window.getSelection().collapse(element.lastChild,n);element.focus()}))}else element.innerHTML="Message"}},emojis:{deep:!0,handler:function(e){var t=this.$refs.chatInput,n=t.dataset.placeholder;t.innerHTML===n?t.innerHTML=e.at(-1):t.innerHTML+=e.at(-1),this.setCurrentCursorPosition(t.innerHTML.length+1),t.focus(),this.fnSetMentionStyle()}}},mounted:function(){var e=this;this.$root.$on("evtRtInsertEmoji",(function(t){e.fnInsertEmoji(t)})),this.$root.$on("evtRtSetMessage",(function(){e.fnSendMessage()}));var t=this.$refs.chatInput;t.addEventListener("paste",this.onPaste);var n=t.dataset.placeholder;!t.innerHTML&&(t.innerHTML=n),this.placeholder=n,t.addEventListener("focus",this.onFocus),t.addEventListener("blur",this.onBlur)},beforeDestroy:function(){var e=this.$refs.chatInput;e.removeEventListener("paste",this.onPaste),e.removeEventListener("focus",this.onFocus),e.removeEventListener("blur",this.onBlur)},methods:C(C({},Object(d.b)({clearMediaFiles:"media/clearMediaFiles",clearMediaMessages:"media/clearMediaMessages",setMediaLocalFiles:"media/setMediaLocalFiles"})),{},{createRange:function(e,t,n){if(n||((n=document.createRange()).selectNode(e),n.setStart(e,0)),0===t.count)n.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(var r=0;r<e.childNodes.length&&(n=this.createRange(e.childNodes[r],t,n),0!==t.count);r++);return n},setCurrentCursorPosition:function(e){if(e>=0){var t=window.getSelection(),n=this.$refs.chatInput,r=this.createRange(n.parentNode,{count:e});r&&(r.collapse(!1),t.removeAllRanges(),t.addRange(r))}},fnSendMessage:v()(Object(f.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,element,c,l,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fnRetrieveMentionedUsers();case 3:if(t=e.sent,n=t.mentionsUserIDs,!this.getChatShowEdit){e.next=8;break}return this.fnEditMessage(),e.abrupt("return");case 8:if(!(this.getMediaFiles.length>10)){e.next=11;break}return this.fnSuccessToast("Only 10 files are allowed to upload"),e.abrupt("return");case 11:if(r=this.getMediaMessages.map((function(e){return null==e?void 0:e.isUploading})),o=r.every((function(element){return!1===element})),o){e.next=15;break}return e.abrupt("return");case 15:if(element=this.$refs.chatInput,c=element.dataset.placeholder,l=this.getMediaMessages.map((function(e){return{objectID:null==e?void 0:e.objectID,objectType:null==e?void 0:e.objectType}})),document.activeElement===element||element.innerHTML!==c){e.next=22;break}return element.innerHTML=c,e.abrupt("return");case 22:if(element.textContent||this.getMediaFiles.length){e.next=25;break}return element.innerHTML="",e.abrupt("return");case 25:this.$root.$emit("evtRtSendMessage",element.innerHTML.replace(/<br>/g,"\n"),this.lockerRoomReply,l,n),this.fnDoneTyping(),this.setMediaLocalFiles(),this.$nextTick((function(){element.innerHTML="",d.lockerRoomReply=null,d.clearMediaFiles(),d.clearMediaMessages()})),e.next=33;break;case 31:e.prev=31,e.t0=e.catch(0);case 33:case"end":return e.stop()}}),e,this,[[0,31]])}))),200),fnSetSelectionStart:function(){var element=document.querySelector(".chat-input");"Message"===element.textContent&&(element.textContent="")},fnInsertEmoji:function(e){var t=this.$refs.chatInput;t&&(t.innerHTML=e)},fnEditMessage:function(){var element=document.querySelector(".chat-input");if(element.textContent)try{var e=this.getChatActive,t=e.chatID,n=e.repliedToChatID,r=e.Media,o=null==r?void 0:r.map((function(e){return{objectID:null==e?void 0:e.objectID,objectType:null==e?void 0:e.objectType}})),c={chatID:t,text:element.innerHTML.replace(/<br>/g,"\n"),repliedToChatID:n||null,Media:o||null,isEdited:!0};this.$root.$emit("evtRtHideEdit"),this.$root.$emit("evtRtUpdateChatList",c),this.$root.$emit("evtRtEditMessage",c)}catch(e){}finally{this.$root.$emit("evtRtCancelEdit")}},fnIsTyping:M()((function(){var element=this.$refs.chatInput;if(element.innerText.length>1&&element.dataset.placeholder!==element.innerText){var e,t={lockerRoomID:null===(e=this.lockerRoomActive)||void 0===e?void 0:e.id,userID:this.userUID,userName:this.userName};this.$root.$emit("evtRtIsTyping",t)}}),3e3,{trailing:!1}),fnDoneTyping:function(){var e,t={lockerRoomID:null===(e=this.lockerRoomActive)||void 0===e?void 0:e.id,userID:this.userUID,userName:this.userName};this.$root.$emit("evtRtDoneTyping",t)},fnRetrieverLockerRoomUsers:v()(function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(text){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$api.getUsersByLockerRoom({text:text,lockerRoomID:null===(t=this.privateChannel)||void 0===t?void 0:t.lockerRoomID});case 3:n=e.sent,r=n.getUsersByLockerRoom.items,this.members=r,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),500),fnSetMentionStyle:function(){var element=document.querySelector(".xo-channels-chat-input"),e=document.querySelector(".atwho-inner");e&&(e.style.width=element.clientWidth)},fnHandleAt:function(e){this.fnRetrieverLockerRoomUsers(e)},fnRetrieveMentionedUsers:function(){var e=document.getElementById("chat-input").getElementsByClassName("mention"),t=[];return e.forEach((function(element){t.push(element.dataset.userId)})),{mentionsUserIDs:t}},fnHideMention:function(){this.hideMention=!0},onPaste:function(e){e.preventDefault();var text=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,text)},onFocus:function(e){e.target.innerHTML===this.placeholder&&(e.target.innerHTML="")},onBlur:function(e){e.target.innerHTML||(e.target.innerHTML=this.placeholder)}})},j=A,N=(n(1681),n(10));function T(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var S={name:"XOChannelsChatInput",components:{XAChannelsInput:Object(N.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.fnHideMention,expression:"fnHideMention"}],staticClass:"xa-channels-input"},[n("At",{class:e.hideMention&&"hide-mention",attrs:{members:e.members,"name-key":"username"},on:{at:e.fnHandleAt},scopedSlots:e._u([{key:"item",fn:function(s){return[n("div",{staticClass:"list-item row items-center"},[n("div",{staticClass:"avatar"},[n("XAAvatar",{attrs:{name:s.item.username,image:s.item.Avatar?s.item.Avatar.PhotoURL:null,size:"36px"}})],1),n("div",{staticClass:"username col"},[e._v(e._s(s.item.username))])])]}},{key:"embeddedItem",fn:function(s){return[n("span",[n("span",{staticClass:"mention",attrs:{"data-user-id":s.current.id||s.current.uid}},[e._v(e._s(s.current.username))])])]}}])},[n("div",{ref:"chatInput",staticClass:"chat-input",attrs:{id:"chat-input",contenteditable:"","data-placeholder":"Message"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.fnSendMessage())},blur:function(t){return e.fnDoneTyping()},keyup:function(t){return e.fnIsTyping()},focus:function(t){e.fnSetSelectionStart(),e.hideMention=!1}}})])],1)}),[],!1,null,"deab099a",null).exports,XAChannelsReplyTo:n(1398).a,XAChannelsChatFile:function(){return n.e(134).then(n.bind(null,2670))},XAFileUpload:function(){return n.e(22).then(n.bind(null,2669))},XAChannelsEditTo:function(){return n.e(120).then(n.bind(null,2671))}},mixins:[h.a],props:{isLive:{type:Boolean,default:!1},isSupporting:{type:Boolean,default:!1},isNotification:{type:Boolean,default:!1},emojis:{type:Array,required:!0},activeChat:{type:[String,void 0],default:""},privateChannel:{type:Object,default:function(){}}},computed:k(k(k({},Object(l.b)("locker-room",["lockerRoomActive","lockerRoomReply"])),Object(d.c)({getMediaFiles:"media/getMediaFiles",getMediaMessages:"media/getMediaMessages",getChatActive:"chats/getChatActive",getChatShowEdit:"chats/getChatShowEdit"})),{},{name:function(){var e;return(null===(e=this.lockerRoomActive)||void 0===e?void 0:e.name)||null},hasReply:function(){return!!this.lockerRoomReply},isUploading:function(){if(this.getMediaMessages.length){var e=this.getMediaMessages.map((function(e){return null==e?void 0:e.isUploading}));return!e.every((function(element){return!1===element}))}},isLockerRoom:function(){return this.$route.name.includes("locker-room")}}),watch:{$route:{deep:!0,immediate:!0,handler:function(){this.clearMediaFiles()}}},methods:k(k({},Object(d.b)({setMediaFiles:"media/setMediaFiles",clearMediaFiles:"media/clearMediaFiles",deleteMediaFiles:"media/deleteMediaFiles"})),{},{fnChooseFile:function(){this.$root.$emit("evtRtChooseFile")},fnShowCommunityRules:function(){this.fnShowCommunityRulesDialog()},fnSendMessage:function(){this.isSupporting&&(this.getMediaFiles.length>10?this.fnSuccessToast("Only 10 files are allowed to upload"):this.$root.$emit("evtRtSetMessage"))},fnSetMediaUpload:function(e){var t=this;this.$nextTick((function(){var n=e.target.files;n.length>10?t.fnSuccessToast("Only 10 files are allowed to upload"):(Object(o.a)(n).forEach((function(e){t.getMediaFiles.filter((function(t){return(null==t?void 0:t.name)===(null==e?void 0:e.name)})).length||t.setMediaFiles(e)})),t.$refs.file.value=null)}))},fnDeleteImageOnLocal:function(e){this.deleteMediaFiles(e)}})},R=(n(1683),Object(N.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"xo-channels-chat-input row",class:[e.isSupporting?"is-supporting":"items-center",{"has-reply":e.hasReply}]},[e.hasReply?r("XAChannelsReplyTo",{attrs:{"can-cancel":!e.isNotification}}):e._e(),e.getChatShowEdit?r("XAChannelsEditTo"):e._e(),e.getMediaFiles.length?r("div",{staticClass:"file-upload-container row"},e._l(e.getMediaFiles,(function(t,n){return r("XAFileUpload",{key:t.name,attrs:{file:t},on:{delete:function(n){return e.fnDeleteImageOnLocal(t)}}})})),1):e._e(),e.isSupporting?r("div",{staticClass:"left-chat-input"},[e.getChatShowEdit?e._e():[r("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/x-png,image/jpeg,image/jpg,image/png,image/webp,image/avif,image/heic,image/heif,image/tiff,image",multiple:""},on:{input:e.fnSetMediaUpload}}),r("div",{staticClass:"_icon row",on:{click:function(t){return t.preventDefault(),e.$refs.file.click()}}},[r("img",{attrs:{src:n(619)}})])]],2):e._e(),r("div",{staticClass:"center-chat-input col"},[e.isSupporting?[r("client-only",[r("XAChannelsInput",{attrs:{emojis:e.emojis,"private-channel":e.privateChannel}}),r("XAChannelsChatFile")],1)]:[e.isLive?e._e():r("div",{staticClass:"not-supporting row items-center"},[e._m(0),r("div",{staticClass:"_label col"},[e._v("Support "+e._s(e.name)+" to start chatting")])])]],2),r("div",{staticClass:"right-chat-input row",class:[e.isSupporting?"items-start":"items-center",{"full-width":e.isLive&&!e.isSupporting}]},[r("div",{directives:[{name:"show",rawName:"v-show",value:!(e.isLive&&!e.isSupporting),expression:"!(isLive && !isSupporting)"}],staticClass:"send row",class:{"is-uploading":e.isUploading},on:{click:function(t){return t.preventDefault(),e.fnSendMessage("")}}},[r("img",{attrs:{src:n(1256),alt:"Send"}})]),r("div",{directives:[{name:"show",rawName:"v-show",value:!(e.isLive&&!e.isSupporting),expression:"!(isLive && !isSupporting)"}],staticClass:"send row",class:{"is-uploading":e.isUploading},attrs:{id:"iconEmoji"}},[r("img",{attrs:{src:n(1257),alt:"emoji"}})]),e.isSupporting?e._e():r("div",{staticClass:"btn-support",class:{expand:e.isLive}},[r("b-button",{attrs:{expanded:e.isLive,type:"is-primary"},on:{click:function(t){return t.preventDefault(),e.fnShowCommunityRules()}}},[e._v("Support "+e._s(e.name))])],1)])],1)}),r,!1,null,"5a18c52e",null));t.default=R.exports},1681:function(e,t,n){"use strict";n(1501)},1682:function(e,t,n){var r=n(34)(!1);r.push([e.i,".xa-channels-input[data-v-deab099a]{min-height:20px;max-height:200px;height:100%;position:relative}@media screen and (max-width:767px){.xa-channels-input[data-v-deab099a]{max-height:100px}}.xa-channels-input[data-v-deab099a] .chat-input{cursor:text;font-size:1.1429rem;font-weight:300;line-height:1.4286rem;word-break:break-word;padding-right:10px;overflow-y:auto;max-height:200px;scrollbar-width:thin;scrollbar-color:#08252c #0c353e;color:#94a6aa}.xa-channels-input[data-v-deab099a] .chat-input::-webkit-scrollbar{width:16px}.xa-channels-input[data-v-deab099a] .chat-input::-webkit-scrollbar-track{background-color:#0c353e}.xa-channels-input[data-v-deab099a] .chat-input::-webkit-scrollbar-thumb{background-color:#08252c;border-radius:10px;border:3px solid #0c353e}.xa-channels-input[data-v-deab099a] .chat-input span{display:inline-block}.xa-channels-input[data-v-deab099a] .chat-input span .mention{color:#886bf2;font-size:1.1429rem;font-weight:400}.xa-channels-input[data-v-deab099a] .chat-input:focus{color:#fff}.xa-channels-input[data-v-deab099a].vb>.vb-dragger{z-index:5;width:12px;right:0;opacity:0}.xa-channels-input[data-v-deab099a].vb>.vb-dragger>.vb-dragger-styler{backface-visibility:hidden;transform:rotate3d(0,0,0,0);transition:background-color .1s ease-out,margin .1s ease-out,height .1s ease-out;background-color:#08252c;margin:5px 2px 0;border-radius:20px;height:calc(100% - 10px);display:block}.xa-channels-input[data-v-deab099a].vb>.vb-dragger:hover>.vb-dragger-styler{background-color:#08252c;height:100%}.xa-channels-input[data-v-deab099a].vb.vb-scrolling-phantom>.vb-dragger>.vb-dragger-styler{background-color:#08252c}.xa-channels-input[data-v-deab099a].vb.vb-dragging>.vb-dragger>.vb-dragger-styler{background-color:#08252c;height:100%}.xa-channels-input[data-v-deab099a].vb.vb-dragging-phantom>.vb-dragger>.vb-dragger-styler{background-color:#08252c}.xa-channels-input[data-v-deab099a].vb:hover>.vb-dragger{opacity:.8}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel{width:calc(100% + 155px);left:-74px!important;top:-27px!important}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view{background-color:#0c353e;box-shadow:none;border-radius:0;left:0;max-width:100%;width:100%;max-height:450px;border-top:1px solid rgba(231,232,232,.2);scrollbar-width:thin;scrollbar-color:#08252c #0c353e;scrollbar-base-color:#08252c}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view::-webkit-scrollbar{width:15px}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view::-webkit-scrollbar-track{background-color:#0c353e}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view::-webkit-scrollbar-thumb{background-color:#08252c;border-radius:10px;border:3px solid #0c353e}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view::-webkit-scrollbar-thumb:vertical:hover{background-color:#08252c}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view .atwho-ul{max-height:450px}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view .atwho-ul .atwho-li{padding:0 0 0 15px;height:auto}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view .atwho-ul .atwho-li .list-item{width:100%}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view .atwho-ul .atwho-li .list-item .xa-avatar{margin-right:10px}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view .atwho-ul .atwho-li .list-item .username{border-bottom:1px solid #385960;padding:16px 0;color:#fff}.xa-channels-input[data-v-deab099a] .atwho-wrap .atwho-panel .atwho-inner .atwho-view .atwho-ul .atwho-li.atwho-cur{background-color:#0a2a31}.xa-channels-input[data-v-deab099a] .atwho-wrap.hide-mention .atwho-panel{display:none}",""]),e.exports=r},1683:function(e,t,n){"use strict";n(1502)},1684:function(e,t,n){var r=n(34)(!1);r.push([e.i,".xo-channels-chat-input[data-v-5a18c52e]{border-top:1px solid rgba(231,232,232,.2);padding:18.5px 30px;background-color:#0c353e;position:relative;z-index:1;display:flex;align-items:flex-end}.xo-channels-chat-input[data-v-5a18c52e] .file-upload-container{width:100%}.xo-channels-chat-input[data-v-5a18c52e] .left-chat-input{margin-right:30px;min-width:14px}.xo-channels-chat-input[data-v-5a18c52e] .left-chat-input ._icon{opacity:.5;margin-top:1.5px;cursor:pointer}.xo-channels-chat-input[data-v-5a18c52e] .center-chat-input{font-size:1.0714rem;line-height:1.4286rem;font-weight:300}.xo-channels-chat-input[data-v-5a18c52e] .center-chat-input .not-supporting ._icon{margin-top:4px}.xo-channels-chat-input[data-v-5a18c52e] .center-chat-input .not-supporting ._label{font-size:1.0714rem;line-height:1.4286rem;font-weight:400;margin-left:20px}@media screen and (max-width:1023px){.xo-channels-chat-input[data-v-5a18c52e] .center-chat-input .not-supporting ._label{margin-left:10px}}@media screen and (max-width:767px){.xo-channels-chat-input[data-v-5a18c52e] .center-chat-input .not-supporting ._label{margin-left:20px}}.xo-channels-chat-input[data-v-5a18c52e] .right-chat-input .file{opacity:.5}.xo-channels-chat-input[data-v-5a18c52e] .right-chat-input>div{margin-left:30px}@media screen and (max-width:767px){.xo-channels-chat-input[data-v-5a18c52e] .right-chat-input .btn-support{display:none}}.xo-channels-chat-input[data-v-5a18c52e] .right-chat-input .btn-support .button{min-width:205px;height:42px;text-transform:uppercase}.xo-channels-chat-input[data-v-5a18c52e] .right-chat-input .send{opacity:.2}.xo-channels-chat-input[data-v-5a18c52e].is-supporting{padding:26px 30px}.xo-channels-chat-input[data-v-5a18c52e].is-supporting .right-chat-input .send{opacity:1}.xo-channels-chat-input[data-v-5a18c52e].is-supporting .right-chat-input .send.is-uploading{opacity:.2}.xo-channels-chat-input[data-v-5a18c52e] .full-width{width:100%}.xo-channels-chat-input[data-v-5a18c52e] .expand{width:100%!important;margin-left:0!important}.xo-channels-chat-input[data-v-5a18c52e] .hidden{display:none!important}",""]),e.exports=r}}]);