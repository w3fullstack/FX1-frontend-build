(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{1985:function(t,e,n){var content=n(2376);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("729f40c2",content,!0,{sourceMap:!1})},2375:function(t,e,n){"use strict";n(1985)},2376:function(t,e,n){var r=n(34)(!1);r.push([t.i,".xa-channels-chat-item-image[data-v-81c48c9a]{width:100%;height:100%;cursor:pointer}.xa-channels-chat-item-image[data-v-81c48c9a] img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}",""]),t.exports=r},2710:function(t,e,n){"use strict";n.r(e);n(17),n(16),n(14),n(19),n(13),n(20);var r=n(0),o=n(5),c=(n(27),n(383),n(8),n(36));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"XAChannelsChatItemImage",props:{media:{type:null,default:null},index:{type:Number,default:0},scrollToBottom:{type:Boolean,default:!1}},data:function(){return{imgURL:null}},computed:{photoURL:function(){var t;return this.file&&this.fnResizeImage(),this.imgURL||(null===(t=this.media)||void 0===t?void 0:t.PhotoURL)||""},file:function(){var t;return(null===(t=this.media)||void 0===t?void 0:t.file)||null}},methods:f(f({},Object(c.b)({setMediaLightbox:"media/setMediaLightbox"})),{},{fnResizeImage:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,img,c,l,f,h,canvas,m,d,v,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=new FileReader,e.next=4,new Promise((function(t){r.onload=function(e){return t(e.target.result)},r.readAsDataURL(n)}));case 4:return o=e.sent,img=new Image,e.next=8,new Promise((function(t){img.onload=t,img.src=o}));case 8:if(c=img.naturalWidth,l=img.naturalHeight,!((c||l)<=640)){e.next=18;break}return f=document.createElement("canvas"),h=f.getContext("2d"),f.width=c,f.height=l,h.drawImage(img,0,0,f.width,f.height),t.imgURL=f.toDataURL("image/png",1),e.abrupt("return");case 18:canvas=document.createElement("canvas"),m=canvas.getContext("2d"),640,640,d=c,v=l,w=Math.min(640/d,640/v),canvas.width=d*w,canvas.height=v*w,m.drawImage(img,0,0,canvas.width,canvas.height),t.imgURL=canvas.toDataURL("image/png",1);case 27:case"end":return e.stop()}}),e)})))()},fnScrollToBottom:function(){this.scrollToBottom&&this.$root.$emit("evtRtScrollToBottom")}})},m=(n(2375),n(10)),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xa-channels-chat-item-image",on:{click:function(e){return e.preventDefault(),t.$emit("click",e)}}},[n("img",{attrs:{src:t.photoURL},on:{load:function(e){return t.fnScrollToBottom()}}})])}),[],!1,null,"81c48c9a",null);e.default=component.exports}}]);