(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{1908:function(e,t,r){var content=r(2193);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("25410b14",content,!0,{sourceMap:!1})},2192:function(e,t,r){"use strict";r(1908)},2193:function(e,t,r){var n=r(34)(!1);n.push([e.i,"@media screen and (max-width:1023px){.xp-create-new-password[data-v-64f05dbe] .step-content .left-content{min-height:calc(100vh - 60px)!important;align-items:flex-start}}.xp-create-new-password[data-v-64f05dbe] .step-content .left-content .form-container form .actions .button{width:230px}@media screen and (max-width:767px){.xp-create-new-password[data-v-64f05dbe] .step-content .left-content .form-container form .actions .button{width:100%}}",""]),e.exports=n},2616:function(e,t,r){"use strict";r.r(t);r(17),r(16),r(14),r(19),r(20);var n=r(0),o=r(5),c=(r(27),r(56),r(292),r(8),r(28),r(31),r(13),r(75),r(79),r(124),r(36)),d=r(382);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={validators:{password:function(e){return d.Validator.value(e).required("Password field is required").custom((function(){if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])[A-Za-z\d!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~]{8,}$/.test(e))return"Please ensure your password is at least 8 characters in length, and contains one number, upper and lowercase letters and one special character"}))},"passwordConfirmation, password":function(e,t){return d.Validator.value(e).required("Password confirmation field is required").match(t,"Please enter the same password in both fields")}},name:"XPCreateNewPassword",components:{XMSignUpRightContent:function(){return r.e(5).then(r.bind(null,2645))},XAFormsInput:function(){return r.e(1).then(r.bind(null,2067))}},data:function(){return{password:null,passwordConfirmation:null,isSubmitting:!1}},computed:{isDisableSaveButton:function(){return!this.password||!this.passwordConfirmation}},methods:f(f({},Object(c.b)({checkActionCode:"auth/checkActionCode",resetPassword:"auth/resetPassword"})),{},{fnSetNewPassword:function(){var e=this;this.isSubmitting=!0,this.$validate().then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){var n,o,c,d,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=37;break}return t.prev=1,o=null===(n=e.$route.query)||void 0===n?void 0:n.c,t.next=5,e.checkActionCode({actionCode:o});case 5:if(!t.sent){t.next=21;break}return t.prev=7,c=e.password,t.next=11,e.resetPassword({actionCode:o,password:c});case 11:return"Password changed. Please login with new password",5e3,t.next=15,e.fnSuccessToast("Password changed. Please login with new password",5e3);case 15:e.$router.push({path:"/signin"}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),null===t.t0||void 0===t.t0||null===(d=t.t0.response)||void 0===d||d.errors.forEach((function(t){e.$toast.success(t.message,{duration:5e3,position:"bottom-left",className:"fx1-success",iconPack:"mdi",icon:"alert-circle-outline"})}));case 21:t.next=33;break;case 23:t.prev=23,t.t1=t.catch(1),l=t.t1.toString(),f=function(e){if(l.includes(e))return l},t.t2=l,t.next=t.t2===f("invalid-action-code")?30:32;break;case 30:return e.$toast.error("The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",{duration:5e3,position:"top-center"}),t.abrupt("break",33);case 32:return t.abrupt("break",33);case 33:return t.prev=33,e.isSubmitting=!1,t.finish(33);case 36:return t.abrupt("return");case 37:e.isSubmitting=!1;case 38:case"end":return t.stop()}}),t,null,[[1,23,33,36],[7,18]])})));return function(e){return t.apply(this,arguments)}}())}})},m=w,h=(r(2192),r(10)),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"xp-create-new-password auth-page"},[r("div",{staticClass:"step-content row"},[r("div",{staticClass:"left-content row items-center justify-center"},[r("div",{staticClass:"form-container"},[e._m(0),r("form",{attrs:{action:"#",autocomplete:"off"},on:{submit:function(e){e.preventDefault()}}},[r("div",{staticClass:"mb-5"},[r("XAFormsInput",{attrs:{type:"password",placeholder:"New password",disabled:e.isSubmitting,error:e.validation.firstError("password")},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("div",{staticClass:"mb-6"},[r("XAFormsInput",{attrs:{type:"password",placeholder:"Confirm new password",disabled:e.isSubmitting,error:e.validation.firstError("passwordConfirmation")},model:{value:e.passwordConfirmation,callback:function(t){e.passwordConfirmation=t},expression:"passwordConfirmation"}})],1),r("div",{staticClass:"actions"},[r("b-button",{staticClass:"btn-next",attrs:{type:"is-primary",loading:e.isSubmitting,disabled:e.isDisableSaveButton},on:{click:function(t){return t.preventDefault(),e.fnSetNewPassword()}}},[e._v("Save")])],1)])])]),r("XMSignUpRightContent")],1)])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-header"},[r("h1",[e._v("Create new password")])])}],!1,null,"64f05dbe",null);t.default=component.exports}}]);